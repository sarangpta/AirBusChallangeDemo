{"ast":null,"code":"import _asyncToGenerator from \"E:\\\\My Projects\\\\UxAirbusChallange\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { CLARITY_MOTION_REVERSE_ANIMATION_SUFFIX as t, AnimationStatus as n, CLARITY_MOTION_REVERSE_ANIMATION_LABEL as i, CLARITY_MOTION_FALLBACK_EASING as o, CLARITY_MOTION_FALLBACK_DURATION_IN_MS as r, CLARITY_MOTION_ENTER_LEAVE_PROPERTY as e } from \"./interfaces.js\";\nimport { LogService as s } from \"../services/log.service.js\";\nimport { ClarityMotion as u } from \"./motion.service.js\";\nimport a from \"ramda/es/clone.js\";\nimport { isCssPropertyName as c, getCssPropertyValue as f } from \"../utils/css.js\";\nimport { isSuffixedBy as l, getNumericValueFromCssSecondsStyleValue as m, isPrefixedBy as d, removePrefix as p } from \"../utils/string.js\";\nimport { queryChildFromLightOrShadowDom as h } from \"../utils/dom.js\";\nimport { allPropertiesPass as g, getMillisecondsFromSeconds as v } from \"../utils/identity.js\";\n\nfunction y(_x, _x2) {\n  return _y.apply(this, arguments);\n}\n\nfunction _y() {\n  _y = _asyncToGenerator(function* (t, n) {\n    if (!n._animations) return s.warn(n.tagName.toLocaleLowerCase() + \" is trying to animate but no animations are defined.\"), !1;\n    const i = z(n._animations, t);\n    return yield Promise.all(i.map(i => {\n      const [o, r] = i;\n      if (t.get(o) === n[o]) return !1;\n      const e = r[n[o].toString()],\n            s = n.cdsMotion,\n            [u, c] = M(e, x(s, o, n[o].toString()));\n      let f = a(c);\n      if (f.length < 1) return !1;\n      f = O(u, f, n);\n      const l = A(e, f, n);\n      return Promise.all(l).then(() => (j(e, n), !0));\n    })).then(t => t.indexOf(!0) > -1).catch(() => !1);\n  });\n  return _y.apply(this, arguments);\n}\n\nfunction w(t, i) {\n  i.getAttribute(\"_cds-animation-status\") !== n.active && (i.setAttribute(\"_cds-animation-status\", n.active), i.cdsMotionChange.emit(`${t} animation ${n.start}`));\n}\n\nfunction j(t, i) {\n  i.setAttribute(\"_cds-animation-status\", n.ready), i.cdsMotionChange.emit(`${t} animation ${n.end}`);\n}\n\nfunction O(t, n, i) {\n  const o = i.cdsMotion,\n        r = !o || \"off\" === o;\n  return b(t) && (n = C(n)), r ? B(n) : $(n = N(n, i), i);\n}\n\nfunction A(t, n, i) {\n  return n.filter(t => !t.onlyIf || g(i, t.onlyIf)).map(n => (w(t, i), new Promise(t => {\n    const o = P(i, n.target).animate(S(n.animation, i), n.options || {}),\n          r = () => {\n      t(\"animation finished\"), o.removeEventListener(\"finish\", r);\n    };\n\n    o.addEventListener(\"finish\", r);\n  })));\n}\n\nfunction P(t, n) {\n  return h(t, n) || t;\n}\n\nfunction S(t, n) {\n  return Array.isArray(t) ? R(t, n) : t;\n}\n\nfunction b(n) {\n  return l(n, t);\n}\n\nfunction C(t) {\n  return t.map(t => (t.options ? t.options.direction = i : t.options = {\n    direction: i\n  }, t));\n}\n\nfunction _(t) {\n  return t + \"-\" + i;\n}\n\nfunction x(t, n, i) {\n  if (!t || !n || void 0 === i) return \"\";\n  if (\"on\" === t || \"off\" === t) return \"\";\n  let o;\n\n  try {\n    o = JSON.parse(t);\n  } catch (t) {\n    return \"\";\n  }\n\n  return o[n] && o[n][i] || \"\";\n}\n\nfunction E(n) {\n  return b(n) ? n.slice(0, -1 * t.length) : n;\n}\n\nfunction L(t, n) {\n  return n && u.has(E(n)) ? n : t;\n}\n\nfunction M(t, n) {\n  const i = L(t, n);\n  return [i, a(u.get(E(i)))];\n}\n\nfunction N(t, n) {\n  return I(\"duration\", n, t, r, t => v(m(t)));\n}\n\nfunction $(t, n) {\n  return I(\"easing\", n, t, o);\n}\n\nfunction B(t) {\n  return t.map(t => (t.options ? (t.options.duration = 0, t.options.easing = o) : t.options = {\n    duration: 0,\n    easing: o\n  }, t));\n}\n\nfunction I(t, n, i, o, r) {\n  return i.map(i => {\n    if (i.options) {\n      if (i.options[t]) {\n        if (c(i.options[t])) {\n          const e = i.options[t];\n          let s = f(e, n);\n          s ? r && (s = r(s)) : s = o, i.options[t] = s;\n        }\n      } else i.options[t] = o;\n    } else {\n      const n = {};\n      n[t] = o, i.options = n;\n    }\n    return i;\n  });\n}\n\nfunction R(t, n) {\n  return Array.isArray(t) ? t.map(t => {\n    var i, o, r, e;\n\n    if ((null == t ? void 0 : t.hasOwnProperty(\"height\")) && d((null === (i = null == t ? void 0 : t.height) || void 0 === i ? void 0 : i.toString()) || \"\", \"from:\")) {\n      const i = p((null === (o = null == t ? void 0 : t.height) || void 0 === o ? void 0 : o.toString()) || \"\", \"from:\"),\n            r = h(n, i) || null;\n      t.height = r ? r.getBoundingClientRect().height + \"px\" : \"auto\";\n    }\n\n    if ((null == t ? void 0 : t.hasOwnProperty(\"width\")) && d((null === (r = null == t ? void 0 : t.width) || void 0 === r ? void 0 : r.toString()) || \"\", \"from:\")) {\n      const i = p((null === (e = null == t ? void 0 : t.width) || void 0 === e ? void 0 : e.toString()) || \"\", \"from:\"),\n            o = h(n, i) || null;\n      t.width = o ? o.getBoundingClientRect().width + \"px\" : \"auto\";\n    }\n\n    return t;\n  }) : t;\n}\n\nfunction J(t, n) {\n  if (null == t) return null;\n  let i = !0;\n  const o = {};\n  return Object.getOwnPropertyNames(t).forEach(r => {\n    n.has(r) && (o[r] = a(t[r]), i = !1);\n  }), i ? null : o;\n}\n\nfunction k(t, n) {\n  if (null == t) return [];\n  const [i, o] = t;\n  return i.length > 0 ? n ? [].concat(o, i) : [].concat(i, o) : o;\n}\n\nfunction q(t) {\n  const n = [],\n        i = [];\n  return Object.getOwnPropertyNames(t || {}).forEach(o => {\n    const r = [o, a(t[o])];\n    o === e ? n.push(r) : i.push(r);\n  }), [n, i];\n}\n\nfunction z(t, n) {\n  const i = J(t || {}, n);\n  return null === i ? [] : k(q(i), n.get(e));\n}\n\nexport { b as animationIsReversed, E as extractAnimationNameIfReversed, J as filterAnimationsByUpdatedProperties, k as flattenAndSortAnimations, M as getAnimationConfigForPropertyValue, L as getAnimationFromOverrideOrDecorator, S as getAnimationKeyframesOrPropertyIndexedFrames, A as getAnimationPromiseInstructions, P as getAnimationTarget, q as getHidingAndNonHidingPropertyAnimations, x as getInlineOverride, z as getPropertyAnimations, j as resolveAnimationEndStatus, _ as reverseAnimation, C as reverseAnimationConfig, y as runPropertyAnimations, O as setAnimationConfigOptions, N as setAnimationDuration, $ as setAnimationEasing, I as setAnimationProperty, w as setAnimationStartStatus, R as sizeDimensionKeyframes, B as zeroOutAnimationConfig }; //# sourceMappingURL=utils.js.map","map":null,"metadata":{},"sourceType":"module"}